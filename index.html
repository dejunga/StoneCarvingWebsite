<!DOCTYPE html>
<html>
  <head>
    <title>FINALNA OBRADA KAMENA</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript
      ><link rel="stylesheet" href="assets/css/noscript.css"
    /></noscript>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  </head>
  <body class="is-preload">
    <!-- Wrapper -->
    <div id="wrapper" class="fade-in">
      <!-- Intro -->
      <div id="intro">
        <h1>FINALNA OBRADA KAMENA</h1>
        <p>
          Osnovani 2001. godine, naša tvrtka ima dugu tradiciju i uspješno
          posluje već više od dva desetljeća, pružajući vrhunsku uslugu i
          proizvode našim klijentima.
        </p>
        <ul class="actions">
          <li>
            <a
              href="#about"
              class="button icon solid solo fa-arrow-down scrolly"
              >Nastavi</a
            >
          </li>
        </ul>
      </div>
      <nav id="nav">
        <ul class="links">
          <li class="active"><a href="index.html">FINALNA OBRADA KAMENA</a></li>
          <li class="nav-item-kontakt">
            <a href="#footer" class="button scrolly">KONTAKT</a>
          </li>
        </ul>
        <ul class="icons">
          <li>
            <a
              href="https://www.facebook.com/ljiljanaderke"
              class="icon brands fa-facebook-f"
              target="_blank"
              rel="noopener noreferrer"
              ><span class="label">Facebook</span></a
            >
          </li>
        </ul>
      </nav>

      <!-- Main -->
      <div id="main">
        <!-- About Company -->
        <section id="about" class="about">
          <header class="major">
            <h2>O nama</h2>
            <p>
              Osnovani 2001. godine, naša tvrtka ima dugu tradiciju i uspješno
              posluje već više od dva desetljeća, pružajući vrhunsku uslugu i
              proizvode našim klijentima.
            </p>
          </header>
          <div class="stone-gallery">
            <header class="major">
              <h2>Vrste kamena</h2>
            </header>

            <div class="stone-images" id="stone-images">
              <!-- Dynamically loaded stone images -->
            </div>
          </div>
          <div class="product-gallery">
            <header class="major">
              <h2>Naši proizvodi</h2>
            </header>
            <div class="product-images" id="product-images">
              <!-- Dynamically loaded product images -->
            </div>
          </div>

          <div id="main">
            <!-- Swiper Container -->
            <div class="swiper">
              <div class="swiper-wrapper">
                <!-- Slides will be injected here -->
              </div>

              <!-- Optional controls -->
              <div class="swiper-pagination"></div>
              <div class="swiper-button-prev"></div>
              <div class="swiper-button-next"></div>
            </div>
          </div>

          <!-- Footer -->
          <footer id="footer">
            <div class="footer-container">
              <header class="major">
                <h2>KONTAKT</h2>
              </header>
              <div class="map-container">
                <!-- Reactive map -->
                <iframe
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2786.210823320066!2d17.16074177602251!3d45.706807271078965!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4767bb7d2880148d%3A0x75b4f8d5be23f8f3!2sUl.%20Ivana%20Nepomuka%20Jemer%C5%A1i%C4%87a%2068%2C%2043290%2C%20Grubi%C5%A1no%20Polje!5e0!3m2!1sen!2shr!4v1745849218526!5m2!1sen!2shr"
                  allowfullscreen=""
                  loading="lazy"
                ></iframe>
              </div>
              <div class="contact-details">
                <p>
                  <span class="label">Adresa:</span>
                  <span class="value"
                    >Ivana Nepomuka Jemeršića 68, Grubišno Polje</span
                  >
                </p>
                <p>
                  <span class="label">Mobitel:</span>
                  <span class="value">+385 99 275 1000</span>
                </p>
                <p>
                  <span class="label">Email:</span>
                  <span class="value">info@klesarstvo.hr</span>
                </p>
              </div>
            </div>
          </footer>
        </section>
      </div>

      <style>
        nav#nav .links li.nav-item-kontakt > a.button.scrolly {
          display: flex; /* make the <a> a flex container */
          align-items: center; /* vertical centering */
          justify-content: center; /* horizontal centering */
          width: 140%;
          height: 100%;
          box-sizing: border-box; /* include any padding/border in size */
        }

        .product-gallery > header.major {
          margin-top: 3rem; /* adjust size to taste */
        }
        .contact-details p {
          margin: 0.5rem 0;
          font-size: 200%;
          line-height: 1.6;
          color: #333;
        }

        /* Bold labels */
        .contact-details .label {
          font-weight: 1000; /* extra-strong weight */
          color: #222; /* slightly darker if you like */
          margin-right: 0.25rem;
        }

        /* Lighter values */
        .contact-details .value {
          font-weight: 900; /* normal weight */
          color: #555; /* slightly lighter shade */
        }

        #wrapper {
          display: flex;
          flex-direction: column;
          min-height: 100vh;
        }

        .footer-container > header.major {
          flex: 0 0 100%; /* take up 100% of the row */
          text-align: center; /* center the h2 inside it */
          margin-bottom: 1rem; /* optional spacing */
        }

        .footer-container {
          display: flex;
          flex-wrap: wrap;
          justify-content: space-between;
          align-items: flex-start;
          gap: 1rem;
          max-width: 900px;
          margin: 0 auto;
        }
        .footer-container h3 {
          text-align: center;
          width: 100%;
        }
        .footer-container .map-container,
        .footer-container .contact-details {
          flex: 1 1 300px;
        }

        #footer {
          /* static positioning so it never overlaps */
          padding: 2rem 1rem;
          background: #f5f5f5;
          text-align: center;
          box-sizing: border-box;
        }

        .map-container iframe {
          width: 100%;
          height: 250px;
          border: 0;
        }

        /* CSS for the image gallery */
        * {
          box-sizing: border-box;
        }

        /* Position the image container (needed to position the left and right arrows) */
        .container {
          position: relative;
        }

        /* Hide the images by default */
        .mySlides {
          display: none;
        }

        /* Add a pointer when hovering over the thumbnail images */
        .cursor {
          cursor: pointer;
        }

        /* Next & previous buttons */
        .prev,
        .next {
          cursor: pointer;
          position: absolute;
          top: 40%;
          width: auto;
          padding: 16px;
          margin-top: -50px;
          color: white;
          font-weight: bold;
          font-size: 20px;
          border-radius: 0 3px 3px 0;
          user-select: none;
          -webkit-user-select: none;
        }

        /* Position the "next button" to the right */
        .next {
          right: 0;
          border-radius: 3px 0 0 3px;
        }

        /* On hover, add a black background color with a little bit see-through */
        .prev:hover,
        .next:hover {
          background-color: rgba(0, 0, 0, 0.8);
        }

        /* Number text (1/3 etc) */
        .numbertext {
          color: #f2f2f2;
          font-size: 12px;
          padding: 8px 12px;
          position: absolute;
          top: 0;
        }

        /* Container for image text */
        .caption-container {
          text-align: center;
          background-color: #222;
          padding: 2px 16px;
          color: white;
        }

        .row:after {
          content: "";
          display: table;
          clear: both;
        }

        /* Six columns side by side */
        .column {
          float: left;
          width: 16.66%;
        }

        /* Add a transparency effect for thumnbail images */
        .demo {
          opacity: 0.6;
        }

        .active,
        .demo:hover {
          opacity: 1;
        }
      </style>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>

    <!-- Slider functionality -->
    <script>
      // Array of image data
      const images = [
        {
          full: "images/proizvodi/antonio_klesarstvo-10-980x653.jpg",
          thumb: "images/proizvodi/antonio_klesarstvo-10-980x653.jpg",
          caption: "The Woods",
        },
        {
          full: "images/proizvodi/dvostruki_grobovi.jpg",
          thumb: "images/proizvodi/dvostruki_grobovi.jpg",
          caption: "Cinque Terre",
        },
        {
          full: "images/proizvodi/spomenici-32-1024x577.jpg",
          thumb: "images/proizvodi/spomenici-32-1024x577.jpg",
          caption: "Mountains and fjords",
        },
        {
          full: "images/proizvodi/SPOMENIK-BR.04.jpg",
          thumb: "images/proizvodi/SPOMENIK-BR.04.jpg",
          caption: "Northern Lights",
        },
        {
          full: "images/proizvodi/antonio_klesarstvo-10-980x653.jpg",
          thumb: "images/proizvodi/antonio_klesarstvo-10-980x653.jpg",
          caption: "Nature and sunrise",
        },
        {
          full: "images/proizvodi/dvostruki_grobovi.jpg",
          thumb: "images/proizvodi/dvostruki_grobovi.jpg",
          caption: "Snowy Mountains",
        },
      ];

      // Select the swiper wrapper
      const swiperWrapper = document.querySelector(".swiper-wrapper");

      // Generate slides
      images.forEach((img) => {
        const slide = document.createElement("div");
        slide.classList.add("swiper-slide");

        const imageElement = document.createElement("img");
        imageElement.src = img.full;
        imageElement.alt = img.caption;
        imageElement.style.width = "100%";

        slide.appendChild(imageElement);
        swiperWrapper.appendChild(slide);
      });

      // Initialize Swiper
      const swiper = new Swiper(".swiper", {
        loop: true, // Enable continuous loop mode
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
        // Optional parameters
        autoplay: {
          delay: 3000,
          disableOnInteraction: false,
        },
        effect: "fade", // You can change this to 'slide', 'cube', 'coverflow', etc.
        fadeEffect: {
          crossFade: true,
        },
      });
    </script>

    <script>
      function loadImages(list, path, containerId, isCircular) {
        const container = document.getElementById(containerId);
        list.forEach((item) => {
          const { filename, name = "" } =
            typeof item === "string" ? { filename: item, name: "" } : item;
          const fig = document.createElement("figure");
          fig.className = "stone-item";
          const img = document.createElement("img");
          img.src = `${path}/${filename}`;
          img.alt = name;
          if (isCircular) img.classList.add("circle-crop");
          const caption = document.createElement("figcaption");
          caption.textContent = name;
          fig.append(img, caption);
          container.appendChild(fig);
        });
      }

      // 1) fetch the JSON file
      fetch("stoneImages.json")
        .then((res) => res.json())
        .then((stoneImages) => {
          // 2) now call your existing loader
          loadImages(stoneImages, "images/vrstaKamena", "stone-images", true);
        })
        .catch((err) => console.error("Failed to load images:", err));

      // Load product images dynamically
      fetch("productImages.json")
        .then((res) => res.json())
        .then((productImages) => {
          loadImages(productImages, "images/proizvodi", "product-images");
        })
        .catch(console.error);
    </script>

    <!-- Corrected CSS -->
    <style>
      /* 1. Your existing grid & sizing */
      .stone-images {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 0.1rem;
        justify-items: center;
      }
      .stone-item {
        width: 100%; /* changed from 10% so it matches its grid cell */
        max-width: 120px;
        text-align: center;
        transition: transform 0.3s ease;
      }
      .stone-item:hover {
        transform: scale(1.1);
      }

      /* 2. Caption: single-line with ellipsis, locked height */
      .stone-item figcaption {
        margin-top: 0.5rem;
        font-size: 0.9rem;
        color: #333;
        opacity: 0;
        max-height: 0;
        overflow: hidden;
        transition: opacity 0.3s ease, max-height 0.3s ease;
      }

      /* 3. On hover: allow full text + expand */
      .stone-item:hover figcaption {
        opacity: 1; /* fade in text */
        max-height: 5em; /* allow up to ~5 lines — adjust as needed */
      }

      .swiper {
        width: 100%;
        aspect-ratio: 16 / 9;
        overflow: hidden;
      }

      .swiper-slide img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        background-color: #ffffff;
      }

      .circle-crop {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        object-position: center;
      }
      .stone-images,
      .product-images {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }
      .product-images img {
        width: 200px; /* Set a consistent width */
        height: 200px; /* Set a consistent height */
        object-fit: cover; /* Ensure the image fits within the dimensions */
        border-radius: 10px; /* Optional: Add rounded corners */
        margin: 5px; /* Add spacing between images */
      }
    </style>
  </body>
</html>
